# Class类的加载过程

.class 文件被加载到内存中所经过的详细过程，主要分 3 大步：<span class="font-red">装载、链接、初始化</span>。其中链接中又包含<span class="font-red">验证、准备、解析</span>3 小步。

## 装载

>查找字节流，并根据此字节流创建类的过程。装载过程成功的标志就是在方法区中成功创建了类所对应的 Class 对象。

## 链接

>验证创建的类，并将其解析到 JVM 中使之能够被 JVM 执行。

- <span class="font-red">验证：</span>文件格式检验、元数据检验、字节码检验、符号引用检验。  
- <span class="font-red">准备：</span>为类中的静态变量分配内存，并为其设置“0值”。基本类型的默认值为 0；引用类型默认值是 null。  
- <span class="font-red">解析：</span>把常量池中的符号引用转换为直接引用，也就是具体的内存地址。在这一阶段，JVM 会将常量池中的类、接口名、字段名、方法名等转换为具体的内存地址。

## 初始化

>将标记为 static 的字段进行赋值，并且执行 static 标记的代码语句。没有 static 修饰的语句块在实例化对象的时候才会执行。

**对象的初始化顺序：**

静态变量/静态代码块 -> 普通代码块 -> 构造函数

① 父类静态变量和静态代码块；  
② 子类静态变量和静态代码块；  
③ 父类普通成员变量和普通代码块；  
④ 父类的构造函数；  
⑤ 子类普通成员变量和普通代码块；  
⑥ 子类的构造函数。  