# 数据存储

Android数据存储的五种方式：  

**一、SharedPreferences**

存储路径：```/data/data/{包名}/shared_prefs/<文件名>```  
属于文件存储的一种，利用xml存储键值对，用来保存应用的一些常用配置。

**二、文件存储**

内部存储(对用户不可见)：
```
/data/data/{packageName}/
getFilesDir(); // 返回 /data/data/{packageName}/files/  文件夹
fileList(); // 返回files/下的所有文件名字的数组
deleteFile(fileName); // 删除files/下 文件名为fileName的文件
```

外部存储：
```
//应用私有目录,无需读写权限
getExternalFilesDir() ```/storage/emulated/0/Android/data/{packageName}/files```  
getExternalCacheDir() ```/storage/emulated/0/Android/data/{packageName}/cache```

//公有目录，需要申请读写权限
Environment.getExternalStorageDirectory() ```/storage/emulated/0```  
```

**三、SQLite数据库**

SQLite是一个嵌入型的轻量级数据库，适合小数据量。

**通过SQLiteOpenHelper创建数据库**

1、创建该对象后并不会回调onCreate(),onOpen()方法。  
2、调用该对象的getWritableDatabase()或getReadableDatabase()返回SQLiteDatabase对象，才会回调onCreate(),onOpen()方法。  
3、此时会在```/data/data/{packageName}/databases```路径下生成创建的db。

**getWritableDatabase()** ：以读写方式打开数据库，一旦数据库的磁盘空间满了，数据库就只能读而不能写，使用该方式就会报异常。    
**getReadableDatabase()** ：先以读写方式打开数据库，如果数据库的磁盘空间满了，就会打开失败，然后会尝试以只读方式打开数据库，返回只可读的实例。

**四、ContentProvider**

一个程序可以通过实现一个ContentProvider的抽象接口将自己的数据完全暴露出去，而且ContentProviders是以类似数据库中表的方式将数据暴露，也就是说ContentProvider就像一个“数据库”。那么外界获取其提供的数据，也就应该与从数据库中获取数据的操作基 本一样，只不过是采用URI来表示外界需要访问的“数据库”。

**五、网络存储**